<form
  [formGroup]="orderForm"
  class="max-w-3xl mx-auto p-6 bg-white rounded-lg mt-16  shadow space-y-6"
>
  <h2 class="text-2xl font-semibold">Place Order</h2>

  <!-- Shipping Method -->
  <div>
    <label class="block mb-1 font-medium">Shipping Method</label>
    <select
      formControlName="shippingMethodId"
      class="w-full border rounded p-2"
    >
      <option value="" disabled selected>Select a shipping method</option>
      @for (m of shippingMethods; track $index) {
            <option [value]="m._id">{{ m.name }}</option>
            }
    </select>

    @if (shippingMethodId?.touched && shippingMethodId?.invalid) {
      <p class="text-sm text-red-600 mt-1">Shipping method is required.</p>
    }
  </div>

  <!-- Payment Method -->
  <div>
    <label class="block mb-1 font-medium">Payment Method</label>
    <div class="flex gap-4">
      <label class="inline-flex items-center">
        <input
          type="radio"
          formControlName="paymentMethod"
          value="COD"
          class="mr-2"
        />
        Cash on Delivery
      </label>
      <label class="inline-flex items-center">
        <input
          type="radio"
          formControlName="paymentMethod"
          value="Stripe"
          class="mr-2"
        />
        Stripe
      </label>
     
    </div>

    @if (paymentMethod?.touched && paymentMethod?.invalid) {
      <p class="text-sm text-red-600 mt-1">Please choose a payment method.</p>
    }
  </div>

 


</form>
<form
  [formGroup]="shippingForm"
  class="max-w-3xl mx-auto mt-8 p-6 bg-white rounded-lg mb-16 shadow space-y-6"
>
  <h2 class="text-2xl font-semibold">Shipping Details</h2>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <!-- Full Name -->
    <div>
      <label class="block mb-1 font-medium">Full Name</label>
      <input
        formControlName="fullName"
        type="text"
        class="w-full border rounded p-2"
        placeholder="Your name"
      />
      @if (shippingForm.get('fullName')?.touched && shippingForm.get('fullName')?.invalid) {
        <p class="text-sm text-red-600 mt-1">Full name is required.</p>
      }
    </div>

    <!-- Phone -->
    <div>
      <label class="block mb-1 font-medium">Phone</label>
      <input
        formControlName="phone"
        type="tel"
        class="w-full border rounded p-2"
        placeholder="+20 1xx xxx xxxx"
      />
      @if (shippingForm.get('phone')?.touched && shippingForm.get('phone')?.invalid) {
        <p class="text-sm text-red-600 mt-1">Phone is required.</p>
      }
    </div>

    <!-- Address Line 1 -->
    <div class="md:col-span-2">
      <label class="block mb-1 font-medium">Address Line 1</label>
      <input
        formControlName="addressLine1"
        type="text"
        class="w-full border rounded p-2"
        placeholder="Street, building, floor"
      />
      @if (shippingForm.get('addressLine1')?.touched && shippingForm.get('addressLine1')?.invalid) {
        <p class="text-sm text-red-600 mt-1">Address line 1 is required.</p>
      }
    </div>

    <!-- Address Line 2 -->
    <div class="md:col-span-2">
      <label class="block mb-1 font-medium">Address Line 2</label>
      <input
        formControlName="addressLine2"
        type="text"
        class="w-full border rounded p-2"
        placeholder="Apartment, landmark (optional)"
      />
    
    </div>

    <!-- City -->
    <div>
      <label class="block mb-1 font-medium">City</label>
      <input
        formControlName="city"
        type="text"
        class="w-full border rounded p-2"
        placeholder="Cairo"
      />
      @if (shippingForm.get('city')?.touched && shippingForm.get('city')?.invalid) {
        <p class="text-sm text-red-600 mt-1">City is required.</p>
      }
    </div>

    <!-- State / Governorate -->
    <div>
      <label class="block mb-1 font-medium">State / Governorate</label>
      <input
        formControlName="state"
        type="text"
        class="w-full border rounded p-2"
        placeholder="Giza (optional)"
      />
      
    </div>

    <!-- Postal Code -->
    <div>
      <label class="block mb-1 font-medium">Postal Code</label>
      <input
        formControlName="postalCode"
        type="text"
        class="w-full border rounded p-2"
        placeholder="12345"
      />
      @if (shippingForm.get('postalCode')?.touched && shippingForm.get('postalCode')?.invalid) {
        <p class="text-sm text-red-600 mt-1">Postal code is required.</p>
      }
    </div>

    <!-- Country -->
    <div>
      <label class="block mb-1 font-medium">Country</label>
      <input
        formControlName="country"
        type="text"
        class="w-full border rounded p-2"
        placeholder="Egypt"
      />
      @if (shippingForm.get('country')?.touched && shippingForm.get('country')?.invalid) {
        <p class="text-sm text-red-600 mt-1">Country is required.</p>
      }
    </div>
  </div>


  
    <button
      (click)="checkout()"
      [disabled]="shippingForm.invalid"
      class="px-4 py-2 bg-primary text-white rounded disabled:opacity-60 cursor-pointer hover:bg-primary-70 "
    >
      Checkout
    </button>

</form>
